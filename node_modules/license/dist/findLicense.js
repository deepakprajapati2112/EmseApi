"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const licenses_1 = __importDefault(require("@ovyerus/licenses"));
const fuzzy_search_1 = __importDefault(require("fuzzy-search"));
const searcher = new fuzzy_search_1.default(Object.keys(licenses_1.default), [], { sort: true });
const osiOnlySearcher = new fuzzy_search_1.default(Object.entries(licenses_1.default)
    .filter(([, { osiApproved }]) => osiApproved)
    .map(([identifier]) => identifier), [], { sort: true });
function findLicense(search, osiOnly = true) {
    const searchIn = osiOnly ? osiOnlySearcher : searcher;
    const matches = searchIn.search(search);
    const [first] = matches;
    if ((first === null || first === void 0 ? void 0 : first.toLowerCase()) === search.toLowerCase())
        return [first];
    else
        return matches;
}
exports.findLicense = findLicense;
exports.default = findLicense;
//# sourceMappingURL=findLicense.js.map